server {
    listen 80;
    server_name ai.chenzhuowen.vip;

    root /home/cydia4384nq/openai-chatkit-advanced-samples;
    index index.html;

    location = / {
        return 302 /cat-lounge/;
    }

    location = /cat-lounge {
        return 301 /cat-lounge/;
    }

    location /cat-lounge/ {
        alias /home/cydia4384nq/openai-chatkit-advanced-samples/examples/cat-lounge/frontend/dist/;
        try_files $uri $uri/ /cat-lounge/index.html;
        index index.html;
    }

    location /cat-lounge/chatkit/ {
        proxy_pass http://127.0.0.1:8000/chatkit/;
        include /etc/nginx/snippets/chatkit-proxy.conf;
    }

    location /cat-lounge/cats/ {
        proxy_pass http://127.0.0.1:8000/cats/;
        include /etc/nginx/snippets/chatkit-proxy.conf;
    }

    location = /customer-support {
        return 301 /customer-support/;
    }

    location /customer-support/ {
        alias /home/cydia4384nq/openai-chatkit-advanced-samples/examples/customer-support/frontend/dist/;
        try_files $uri $uri/ /customer-support/index.html;
        index index.html;
    }

    location /customer-support/support/ {
        proxy_pass http://127.0.0.1:8001/support/;
        include /etc/nginx/snippets/chatkit-proxy.conf;
    }

    location = /news-guide {
        return 301 /news-guide/;
    }

    location /news-guide/ {
        alias /home/cydia4384nq/openai-chatkit-advanced-samples/examples/news-guide/frontend/dist/;
        try_files $uri $uri/ /news-guide/index.html;
        index index.html;
    }

    location /news-guide/chatkit/ {
        proxy_pass http://127.0.0.1:8002/chatkit/;
        include /etc/nginx/snippets/chatkit-proxy.conf;
    }

    location /news-guide/articles/ {
        proxy_pass http://127.0.0.1:8002/articles/;
        include /etc/nginx/snippets/chatkit-proxy.conf;
    }

    location = /metro-map {
        return 301 /metro-map/;
    }

    location /metro-map/ {
        alias /home/cydia4384nq/openai-chatkit-advanced-samples/examples/metro-map/frontend/dist/;
        try_files $uri $uri/ /metro-map/index.html;
        index index.html;
    }

    location /metro-map/chatkit/ {
        proxy_pass http://127.0.0.1:8003/chatkit/;
        include /etc/nginx/snippets/chatkit-proxy.conf;
    }

    location /metro-map/map/ {
        proxy_pass http://127.0.0.1:8003/map/;
        include /etc/nginx/snippets/chatkit-proxy.conf;
    }
}
